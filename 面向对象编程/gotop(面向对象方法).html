<!DOCTYPE html>
<html>
  <head>
    <style>
        p{
            margin:15px 15px;
        }

        .ct{
            border:1px solid green;
            width:90px;
            text-align:center;
            padding:10px;
            position:fixed;
            right:10px;
            bottom:10px;
            cursor: pointer;
            display:none;

        }
    </style>
    <script src='http://apps.bdimg.com/libs/jquery/1.9.1/jquery.js'>
    </script>
    <meta charset="utf-8">
    <title>gotop</title>
  </head>
  <body>
    <p>内容1</p>
    <p>内容2</p>
    <p>内容3</p>
    <p>内容4</p>
    <p>内容5</p>
    <p>内容6</p>
    <p>内容7</p>
    <p>内容8</p>
    <p>内容9</p>
    <p>内容10</p>
    <p>内容11</p>
    <p>内容12</p>
    <p>内容13</p>
    <p>内容14</p>
    <p>内容15</p>
    <p>内容16</p>
    <p>内容17</p>
    <p>内容18</p>
    <p>内容19</p>
    <p>内容20</p>
    <p>内容21</p>
    <p>内容22</p>
    <p>内容23</p>
    <p>内容24</p>
    <p>内容25</p>
    <!-- <div class="ct">
        <div class="target">回到顶部</div>
    </div> -->
    <script>
    $(function(){
        function goTop(){//创建构造函数，绑定属性和方法
            this.ct=$('<div class="ct"></div>');
            this.target=$('<div class="target">回到顶部</div>');
            }

            goTop.prototype={
                constructor:goTop,//修改prototype时constructor要指回构造函数
                createNode:function() {
                    $("body").append(this.ct)
                    $(this.ct).append(this.target)
                },
                bindEvent:function() {
                    var cur=this
                    $(window).on("scroll",function(){
                        var scrollY=$(window).scrollTop()
                        console.log(scrollY)
                        if(scrollY>100){
                            cur.ct.show()
                        }else{
                            cur.ct.hide()
                        }
                        cur.ct.on("click",function(){
                            $(window).scrollTop(0)
                        })
                    })
                }
            }
        var backtop=new goTop()
        backtop.createNode()//创建backtop对象后要调用prototype方法才能生效
        backtop.bindEvent()//创建backtop对象后要调用prototype方法才能生效

        /*或者写成以下方式，就不用在生成backtop后再调用一次了,相当于生成的backtop对象立即执行了一次两个方法
        function goTop(){//创建构造函数，绑定属性和方法
            this.ct=$('<div class="ct"></div>');
            this.target=$('<div class="target">回到顶部</div>');
            //this.createNode();
            //this.bindEvent();
            }
            */
    })


    </script>
  </body>
</html>
